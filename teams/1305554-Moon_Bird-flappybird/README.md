# Flappy Bird 增强版

一个基于 MoonBit的高性能 Flappy Bird 增强版，提供多模式、道具与进化系统。

## 🎮 游戏简介

- **创作背景**：以 MoonBit 语言为核心，探索在浏览器中通过 WebAssembly 实现高性能实时游戏的工程方法；在经典玩法上扩展道具、进化与 Boss 对战，验证模块化与可扩展设计。
- **玩法目标**：控制小鸟穿越管道、收集道具并进化形态，在不同模式中挑战更高分数或击败 Boss。
- **设计理念**：
  - 高性能：主逻辑使用 MoonBit，WASM 执行，Canvas 渲染，稳定 60FPS。
  - 可扩展：模式、道具、进化、Boss 皆模块化，便于新增/替换。
  - 可玩性：正负面道具、演化阈值与多模式，形成富有变化的局内决策。

### 形态进化
- 0 分：雏鸟；5 分：成鸟；10 分：雄鹰；15 分：凤凰；50 分：神龙。
- 进化带来跳跃力/生命/体型等属性变化与外观特效，部分阶段附带能力（如涅槃重生、无敌时间等）。

### 游戏模式
- 经典：标准玩法，无时间限制。
- 限时：30 秒计时，分数倍率提升。
- 极速：更紧凑的管道与更严苛的容错。
- 挑战 / 生存：包含道具收集与 Boss 战，强调策略与大量局内变数。

## 🕹️ 操作说明

### 控制方式
- 空格/上/W：开始/上升（Space 同时触发开始与上升）。
- 下/S：下降（磁力效果下反转）。
- 左/A：减速（等效为小鸟相对速度=1；极速模式无效）。
- 右/D：加速（等效为小鸟相对速度=2；极速模式无效）。
- J：攻击（挑战模式）。

## 🛠️ 技术特色

### 难点与方案
- 渲染管线（JavaScript）：使用 Canvas 2D 绘制；WASM 负责状态步进与碰撞，JS 侧负责输入、音效与资源管理。
- 性能：WASM 主逻辑 + Canvas 批量绘制，控制内存分配与对象复用，目标 60FPS。
- 碰撞：精确的矩形/边界检测，兼顾可读性与性能。
- 效果叠加：效果时间轴与优先级管理，避免相互覆盖与竞态。

### 原理与实现说明
- 性能原理：核心玩法逻辑在 WebAssembly 中执行（状态更新、碰撞、数值），JavaScript 专注渲染与输入，减少边界开销，保持帧率稳定。
- 输入原理：键盘输入在 JS 侧采集并转换为 0/1 信号传入 WASM；WASM 按当前效果（如重力/磁力反转、冰冻）动态解释上下与速度调整。
- 速度原理：通过改变场景滚动速率实现“小鸟加减速”的体感，即相对速度变化而非直接移动。
- 效果系统：正负面增益以剩余时长管理，可叠加/抵消，保障优先级与持续时间一致性。
- 模式扩展：经典、限时、极速、挑战/生存共享统一的状态与规则框架，增改模式不会影响基础玩法。
- 工程支持：提供格式化、静态检查与测试工具，便于持续重构与稳定演进。

### MoonBit 使用亮点
- 核心逻辑以 MoonBit 编写并运行于 WASM，JS 仅负责渲染与输入，性能稳定。
- 跨边界通信以简单数值为主，降低序列化与 GC 开销，接口清晰。


## 👥 团队信息

- 团队名称：Moon_Bird
- 联系方式：2963364166@qq.com


祝你游玩愉快，挑战高分！🎮✨
